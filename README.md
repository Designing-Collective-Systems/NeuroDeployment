TMT with database and random target location
